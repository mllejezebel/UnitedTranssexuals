{"version":3,"file":"unitedtranssexuals-webpack.bundle.js","mappings":"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","sources":["webpack://unitedtranssexuals/./app.js","webpack://unitedtranssexuals/./config.js","webpack://unitedtranssexuals/./libs/db/postgres.js","webpack://unitedtranssexuals/./libs/user/userMiddleware.js","webpack://unitedtranssexuals/./libs/user/userModal.js","webpack://unitedtranssexuals/./routes/index.js","webpack://unitedtranssexuals/external commonjs \"@babel/runtime/helpers/asyncToGenerator\"","webpack://unitedtranssexuals/external commonjs \"@babel/runtime/helpers/toConsumableArray\"","webpack://unitedtranssexuals/external commonjs \"@babel/runtime/regenerator\"","webpack://unitedtranssexuals/external commonjs \"bcryptjs\"","webpack://unitedtranssexuals/external commonjs \"cookie-parser\"","webpack://unitedtranssexuals/external commonjs \"debug\"","webpack://unitedtranssexuals/external commonjs \"express\"","webpack://unitedtranssexuals/external commonjs \"pg-promise\"","webpack://unitedtranssexuals/external node-commonjs \"http\"","webpack://unitedtranssexuals/external node-commonjs \"path\"","webpack://unitedtranssexuals/webpack/bootstrap","webpack://unitedtranssexuals/webpack/runtime/compat get default export","webpack://unitedtranssexuals/webpack/runtime/define property getters","webpack://unitedtranssexuals/webpack/runtime/hasOwnProperty shorthand","webpack://unitedtranssexuals/webpack/runtime/make namespace object","webpack://unitedtranssexuals/./bin/www.js"],"sourcesContent":["import express from 'express';\nimport path from 'path';\nimport cookieParser from 'cookie-parser';\nimport indexRouter from './routes/index';\n// import * as postgres from './libs/db/postgres';\n\n/**\n * Express.js server.\n */\nconst app = express();\n// note adjust __dirname '../public' depending on webpack build\napp.use(express.static(path.join(__dirname, '/public'), {index: 'index.html', extensions: ['html']}));\nconsole.log(path.join(__dirname, '../public'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(cookieParser());\n\n/**\n * Routes - post, get, put, delete...\n */\napp.use('/', indexRouter);\n// Handle 404 errors\napp.use((req, res) => {\n    res.status(404).sendFile(path.join(__dirname, '/public', '/error.html'));\n});\n\n/**\n * Server Shutdown handler\n */\nprocess.on('SIGINT', () => {\n    // const shutdown = () => server.close(async () => {\n    //     await postgres.shutdown();\n    //     await process.exit(0);\n    // });\n    // shutdown().catch((error) => {\n    //     console.log('shutdown error: ', error);\n    // });\n});\n\nexport default app;\n","export default {\n    app: {\n        name: 'unitedtranssexuals.org',\n        version: '1.0.0',\n        info: 'United Transsexuals'\n    },\n    ip: {\n        server: '10.134.0.2'\n    },\n    port: {\n        server: 4000,\n        socket: 6660\n    },\n    security: {\n        cookie: {\n            secret: '66iVzEwvXu3AHwxAjAw2UD6CYyC29vGgbGK86mcCJCXvxWNj3C',\n            maxAge: 1000 * 60 * 60 * 24 * 7 // 1 week cookie age.\n        },\n    },\n    database: {\n        postgres: {\n            use: 'development', // set to 'deployment' or 'development' to switch.\n            deployment: 'postgres://jezebel:password123@localhost/transsdb',\n            development: 'postgres://jezebel:password123@localhost/transsdb'\n        }\n    },\n    websocket: {\n        deployment: [\n            'ws://unitedtranssexuals.org',\n            'wss://unitedtranssexuals.org',\n            'https://unitedtranssexuals.org'\n        ],\n        development: [\n            'ws://localhost:6660',\n            'wss://localhost:6660',\n            'http://localhost:6660',\n            'https://localhost:6660'\n        ]\n    }\n};\n","import config from '../../config';\n\nconst pgp = require('pg-promise')();\n\nexport const Database = pgp(\n  config.database.postgres.use === 'deployment'\n    ? config.database.postgres.deployment\n    : config.database.postgres.development\n);\n\n// (setup) initialize tables if not exists.\n\nconst createSession = async () => Database.none(`\n    CREATE TABLE IF NOT EXISTS session (\n        sid varchar NOT NULL,\n        sess json NOT NULL,\n        expire timestamp(6) NOT NULL\n    )\n    WITH (\n        OIDS = FALSE\n    );\n\n    ALTER TABLE \"session\"\n        ADD CONSTRAINT \"session_pkey\" PRIMARY KEY (\"sid\") NOT DEFERRABLE INITIALLY \n    IMMEDIATE;\n`);\nconst alterSessionDrop = async () => Database.none(`\n    ALTER TABLE \"session\" DROP CONSTRAINT IF EXISTS \"session_pkey\"\n`);\nconst alterSessionAdd = async () => Database.none(`\n    ALTER TABLE \"session\"\n        ADD CONSTRAINT \"session_pkey\" PRIMARY KEY (\"sid\") NOT DEFERRABLE INITIALLY \n    IMMEDIATE\n`);\nconst createPublicUsers = async () => Database.none(`\n    CREATE TABLE IF NOT EXISTS \"public\".\"users\" (\n        uuid uuid NOT NULL DEFAULT uuid_generate_v4(),\n        email varchar NOT NULL,\n        PASSWORD varchar NOT NULL,\n        LANGUAGE varchar,\n        permission varchar\n    )\n`);\ncreateSession().catch((error) => {\n  // console.log('createSession: ', error);\n});\nalterSessionDrop().catch((error) => {\n  // console.log('alterSessionDrop: ', error);\n});\nalterSessionAdd().catch((error) => {\n  // console.log('alterSessionAdd: ', error);\n});\ncreatePublicUsers().catch((error) => {\n  // console.log('createPublicUsers: ', error);\n});\n\n\n// todo make universal db functions (here) if necessary.\n\nexport const shutdown = async() => {\n  const endPostgres = async () => pgp.end();\n  endPostgres().catch((error) => {\n    console.log('endPostgres: ', error);\n  });\n};\n","import * as User from './userModal';\n\n/**\n * @function login\n * @param req object\n * @param res object\n * @description handles the login process.\n */\nexport const login = (req, res) => {\n  if (!req.session) return res.send({\n    status: 'error',\n    description: 'session null'\n  });\n  if (req.session.user) {\n    res.cookie('session', JSON.stringify({\n      user: req.session.user\n    }));\n    return res.redirect('/');\n  }\n\n  const user = {\n    email: req.body.email,\n    password: req.body.password\n  };\n\n  User.authenticate(user).then((authenticate) => {\n    if (authenticate.error) {\n      return res.send({\n        error: 'login',\n        description: 'incorrect details'\n      });\n    }\n    // details correct - login user.\n    req.session.user = {\n      id: authenticate.id,\n      uuid: authenticate.uuid,\n      email: authenticate.email\n    };\n    res.cookie('session', JSON.stringify({\n      user: req.session.user,\n    }));\n    return res.send({\n      status: 'success',\n      description: 'login'\n    });\n  });\n  return res.redirect('/');\n};\n\n/**\n * @function register\n * @param req object\n * @param res object\n * @description handles the register process.\n */\nexport const register = (req, res) => {\n  if (req.session.user) {\n    res.cookie('session', JSON.stringify({\n      user: req.session.user\n    }));\n    return res.redirect('/');\n  }\n\n  const user = {\n    email: req.body.email,\n    password: req.body.password,\n    captcha: req.body.captcha\n  };\n\n  User.register(user).then((registration) => {\n    if (registration.error) {\n      return res.send(registration);\n    }\n    User.authenticate(user).then((authenticate) => {\n      if (authenticate.error) {\n        return res.send({\n          error: 'register',\n          description: authenticate.description\n        });\n      }\n      if (user && authenticate.uuid) {\n        req.session.user = {\n          uuid: authenticate.uuid,\n          email: authenticate.email\n        };\n        res.cookie('session', JSON.stringify({\n          user: req.session.user\n        }));\n        return res.send({\n          status: 'success',\n          description: 'register'\n        });\n      }\n      return res.redirect('/');\n    }).catch((error) => {\n      console.log('error:');\n      console.log(error);\n    });\n    return res.redirect('/');\n  }).catch((error) => {\n    console.log('error:');\n    console.log(error);\n  });\n  return res.redirect('/');\n};\n\n/**\n * @function logout\n * @param req object\n * @param res object\n * @param next object\n * @description handles the logout process.\n */\nexport const logout = (req, res, next) => {\n  if (req.session.user) {\n    req.session.destroy((err) => {\n      if (err) return next(err);\n      res.clearCookie('psychedelices');\n      return res.redirect('/');\n    });\n  }\n  res.clearCookie('psychedelices');\n  return res.redirect('/');\n};\n\n/**\n * @function socketHandler\n * @param socket object\n * @description handles the register process.\n */\nexport const socketHandler = (socket) => {\n  socket.on('public', (data) => {\n    console.log('socket.on public..');\n\n    if (data.api) {\n      if (data.api === 'user') {\n        console.log('api: user');\n        if (socket.handshake.session.user !== undefined) {\n          User.get(socket.handshake.session.user.uuid, (err, user) => {\n            console.log('user is:');\n            console.log(user);\n            if (user) {\n              socket.emit('public', {\n                api: 'user',\n                user: user,\n              });\n            } else { // Error or user hasn't created market.\n              socket.emit('public', {\n                api: 'user',\n                user: null,\n              });\n            }\n          });\n        }\n      } else if (data.api === 'update') {\n        console.log('api: update');\n        if (socket.handshake.session.user !== undefined) {\n          const user = {};\n          // Verify and cleanup data.\n          if (data.details !== undefined) {\n            user.uuid = socket.handshake.session.user.uuid;\n            user.email = socket.handshake.session.user.email;\n            user.public = data.details.public !== undefined\n              ? data.details.public\n              : {\n                markerID: 'u001',\n                message: ''\n              };\n          }\n          User.update(socket.handshake.session.user.uuid,\n            data.details !== undefined ? user : null,\n            (err, dbUser) => {\n              if (dbUser) {\n                // User details exists - update\n                console.log('user update - success');\n              } else {\n                console.log('user update - failed');\n              }\n            });\n        }\n      } else if (data.api === 'location') {\n        console.log('api: location');\n        if (socket.handshake.session.user !== undefined) {\n          const user = {};\n          // Verify and cleanup data.\n          console.log(data);\n          if (data.details !== undefined) {\n            user.uuid = socket.handshake.session.user.uuid;\n            if (data.details.loc !== undefined\n              && data.details.loc.coordinates !== undefined\n              && data.details.loc.coordinates.length > 0\n            ) {\n              user.loc = {\n                coordinates: [...data.details.loc.coordinates]\n              };\n            }\n          }\n          console.log(user);\n          User.update(socket.handshake.session.user.uuid,\n            data.details !== undefined ? user : null,\n            (err, dbUser) => {\n              if (dbUser) {\n                // User details exists - update\n                console.log('user update - success');\n              } else {\n                console.log('user update - failed');\n              }\n            }\n          );\n        }\n      }\n    }\n  });\n};\n","import bcrypt from 'bcryptjs';\nimport {Database} from '../db/postgres';\n\n/**\n * @function hash\n * @param data string\n * @description bcrypt hash string\n */\nconst hash = (data) => {\n  return (bcrypt.hashSync(data, 8));\n};\n\n/**\n * @function isEmpty\n * @param str string\n * @description Check if str is string or empty.\n */\nconst isEmpty = (str) => {\n  return (!str || typeof str !== 'string' || str.length === 0);\n};\n\n/**\n * @function create\n * @param user object\n * @description create user in the database.\n */\nexport const create = async(user) => {\n  return await Database.one(\n    'INSERT INTO users(email, password) VALUES($1, $2) RETURNING uuid',\n    [user.email, hash(user.password)]\n  ).then((data) => {\n    return data;\n  }).catch((error) => {\n    return {\n      error: 'create',\n      description: 'The account could not be created.'\n    };\n  });\n};\n\n/**\n * @function update\n * @param uuid string\n * @param user object\n * @description update user by uuid.\n */\nexport const update = async(uuid, user) => {\n  if (isEmpty(uuid)) {\n    return null;\n  }\n  return await Database.none(\n    'UPDATE users set email=$1, password=$2 where uuid=$3',\n    [user.email, hash(user.password)]\n  ).then(() => {\n    return user;\n  }).catch((error) => {\n    console.log('error:');\n    console.log(error);\n    return null;\n  });\n};\n\n/**\n * @function register\n * @param user object\n * @description register verification and uses create().\n */\nexport const register = async (user) => {\n  if (isEmpty(user.email) || isEmpty(user.password)) {\n    return {\n      error: 'register',\n      description: 'Please provide correct login values.'\n    };\n  }\n  return await Database.any(\n    'select * from users where email = $1',\n    user.email\n  ).then((data) => {\n    if (data.length > 0) {\n      return {\n        error: 'register',\n        description: 'The email used, has already registered an account.'\n      };\n    }\n    // success.\n    return create(user).then((uuid) => {\n      if (uuid.error) {\n        return {\n          error: 'register',\n          description: create.description\n        };\n      }\n      return uuid;\n    });\n  }).catch((error) => {\n    console.log('error:');\n    console.log(error);\n    return {\n      error: 'register',\n      description: 'The server is encountering an issue with registration.'\n    };\n  });\n};\n\n/**\n * @function remove\n * @param uuid string\n * @description remove user matching uuid.\n */\nexport const remove = async(uuid) => {\n  return await Database.result(\n    'delete from users where uuid = $1',\n    uuid\n  ).then((data) => {\n    return null;\n  }).catch((error) => {\n    return null;\n  });\n};\n\n/**\n * @function authenticate\n * @param user object\n * @description authenticate user if password is correct.\n */\nexport const authenticate = async(user) => {\n  if (isEmpty(user.email) || isEmpty(user.password)) {\n    return {\n      error: 'authenticate validate',\n      description: 'incorrect details'\n    };\n  }\n  return await Database.any(\n    'SELECT * from users WHERE email = $1',\n    user.email\n  ).then((data) => {\n    const myData = data[0];\n    if (myData.email\n      && bcrypt.compareSync(\n        user.password,\n        myData.password\n      )\n    ) {\n      return myData;\n    }\n    return {\n      error: 'authenticate',\n      description: 'Sorry, incorrect values for login!'\n    };\n  }).catch((error) => {\n    return {\n      error: 'database',\n      description: 'The account could not be authenticated.'\n    };\n  });\n};\n\n/**\n * @function get\n * @param uuid string\n * @description get user by uuid\n */\nexport const get = async(uuid) => {\n  if (isEmpty(uuid)) return null;\n  return await Database.any(\n    'SELECT * FROM users WHERE uuid = $1',\n    uuid\n  ).then((data) => {\n    return data;\n  }).catch((error) => {\n    return null;\n  });\n};\n\n/**\n * @function all\n * @description get all users\n */\nexport const all = async() => {\n  return await Database.any(\n    'SELECT * FROM users'\n  ).then((data) => {\n    return data;\n  }).catch((error) => {\n    console.log('error:');\n    console.log(error);\n    return null;\n  });\n};\n","import express from 'express';\nimport * as auth from '../libs/user/userMiddleware';\n\nconst router = express.Router();\n\n/**\n * POST request - User can login.\n */\nrouter.post('/login', auth.login);\n\n/**\n * POST request - User can register.\n */\nrouter.post('/register', auth.register);\n\n/**\n * POST request - User can logout.\n */\nrouter.post('/logout', auth.logout);\n\nexport default router;\n","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"bcryptjs\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"debug\");","module.exports = require(\"express\");","module.exports = require(\"pg-promise\");","module.exports = require(\"http\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Module dependencies.\n */\nimport app from '../app';\nimport http from 'http';\nimport config from '../config';\n\nconst debug = require('debug')('psychedelices:server');\n\n/**\n * Normalize a port into a number, string, or false.\n */\nconst normalizePort = (val) => {\n  const port = parseInt(val, 10);\n  if (isNaN(port)) {\n    // named pipe\n    return val;\n  }\n  if (port >= 0) {\n    // port number\n    return port;\n  }\n  return false;\n}\n\n/**\n * Get port from environment and store in Express.\n */\nconst port = normalizePort(process.env.PORT || config.port.server);\napp.set('port', port);\n\n/**\n * Event listener for HTTP server \"error\" event.\n */\n\nconst onError = (error) => {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  const bind = typeof port === 'string'\n      ? 'Pipe ' + port\n      : 'Port ' + port;\n\n  // handle specific listen errors with friendly messages\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges');\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use');\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n}\n\n/**\n * Event listener for HTTP server \"listening\" event.\n */\n\nconst onListening = () => {\n  const addr = server.address();\n  const bind = typeof addr === 'string'\n      ? 'pipe ' + addr\n      : 'port ' + addr.port;\n  debug('Listening on ' + bind);\n};\n\n/**\n * Create HTTP server.\n */\nconst server = http.createServer(app);\n\n/**\n * Listen on provided port, on all network interfaces.\n */\nserver.listen(port);\nserver.on('error', onError);\nserver.on('listening', onListening);\n"],"names":["express","path","cookieParser","indexRouter","app","use","join","__dirname","index","extensions","console","log","json","urlencoded","extended","req","res","status","sendFile","process","on","name","version","info","ip","server","port","socket","security","cookie","secret","maxAge","database","postgres","deployment","development","websocket","config","pgp","require","Database","createSession","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","none","stop","apply","arguments","alterSessionDrop","_ref2","_callee2","_callee2$","_context2","alterSessionAdd","_ref3","_callee3","_callee3$","_context3","createPublicUsers","_ref4","_callee4","_callee4$","_context4","error","shutdown","_ref5","_callee6","endPostgres","_callee6$","_context6","_ref6","_callee5","_callee5$","_context5","end","User","login","session","send","description","user","JSON","stringify","redirect","email","body","password","authenticate","then","id","uuid","register","captcha","registration","logout","destroy","err","clearCookie","socketHandler","data","api","handshake","undefined","get","emit","details","markerID","message","update","dbUser","loc","coordinates","length","_toConsumableArray","bcrypt","hash","hashSync","isEmpty","str","create","one","sent","_x","_x2","_x3","any","_x4","remove","result","_x5","myData","compareSync","_x6","_x7","all","_ref7","_callee7","_callee7$","_context7","auth","router","Router","post","http","debug","normalizePort","val","parseInt","isNaN","env","PORT","set","onError","syscall","bind","code","exit","onListening","addr","address","createServer","listen"],"sourceRoot":""}